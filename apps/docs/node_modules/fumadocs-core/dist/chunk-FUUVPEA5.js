// src/mdx-plugins/remark-mdx-mermaid.ts
import { visit } from "unist-util-visit";
function toMDX(code) {
  return {
    type: "mdxJsxFlowElement",
    name: "Mermaid",
    attributes: [
      {
        type: "mdxJsxAttribute",
        name: "chart",
        value: code.trim()
      }
    ],
    children: []
  };
}
function remarkMdxMermaid(options = {}) {
  const { lang = "mermaid" } = options;
  return (tree) => {
    visit(tree, "code", (node) => {
      if (node.lang !== lang || !node.value) return;
      Object.assign(node, toMDX(node.value));
    });
  };
}

export {
  remarkMdxMermaid
};
