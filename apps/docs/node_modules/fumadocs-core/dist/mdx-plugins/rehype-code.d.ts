import { Root } from 'hast';
import { RehypeShikiOptions } from '@shikijs/rehype';
import { Processor, Transformer } from 'unified';
import { ShikiTransformer } from 'shiki';

type CodeBlockIcon = {
    viewBox: string;
    fill: string;
    d: string;
} | string;
interface IconOptions {
    shortcuts?: Record<string, string>;
    extend?: Record<string, CodeBlockIcon>;
}
/**
 * Inject icons to `icon` property (as HTML)
 */
declare function transformerIcon(options?: IconOptions): ShikiTransformer;

declare const rehypeCodeDefaultOptions: RehypeCodeOptions;
type DistributiveOmit<T, K extends keyof T> = T extends unknown ? Omit<T, K> : never;
type RehypeCodeOptions = DistributiveOmit<RehypeShikiOptions, 'lazy'> & {
    /**
     * Load languages and themes on-demand.
     * @defaultValue true
     */
    lazy?: boolean;
    /**
     * The regex engine to use.
     *
     * @defaultValue 'js'
     */
    engine?: 'js' | 'oniguruma';
    /**
     * Filter meta string before processing
     */
    filterMetaString?: (metaString: string) => string;
    /**
     * Add icon to code blocks
     */
    icon?: IconOptions | false;
    /**
     * Wrap code blocks in `<Tab>` component when "tab" meta string presents
     *
     * @defaultValue true
     */
    tab?: boolean;
};
/**
 * Handle codeblocks
 */
declare function rehypeCode(this: Processor, _options?: Partial<RehypeCodeOptions>): Transformer<Root, Root>;
declare function transformerTab(): ShikiTransformer;

export { type CodeBlockIcon, type RehypeCodeOptions, rehypeCode, rehypeCodeDefaultOptions, transformerIcon, transformerTab };
