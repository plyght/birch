import { CodeToHastOptionsCommon, BundledLanguage, CodeOptionsMeta, CodeOptionsThemes, BundledHighlighterOptions, Highlighter } from 'shiki';
import { BundledTheme } from 'shiki/themes';
import { Components, Options } from 'hast-util-to-jsx-runtime';
import { ReactNode } from 'react';
import { Root } from 'hast';

type HighlightOptionsCommon = CodeToHastOptionsCommon<BundledLanguage> & CodeOptionsMeta & {
    /**
     * The Regex Engine for Shiki
     *
     * @defaultValue 'js'
     */
    engine?: 'js' | 'oniguruma';
    components?: Partial<Components>;
    fallbackLanguage?: BundledLanguage;
};
type HighlightOptionsThemes = CodeOptionsThemes<BundledTheme>;
type HighlightOptions = HighlightOptionsCommon & (HighlightOptionsThemes | Record<never, never>);
declare function highlightHast(code: string, options: HighlightOptions): Promise<Root>;
declare function hastToJsx(hast: Root, options?: Partial<Options>): JSX.Element;
/**
 * Get Shiki highlighter instance of Fumadocs (mostly for internal use, you should use Shiki directly over this).
 *
 * @param engineType - Shiki Regex engine to use.
 * @param options - Shiki options.
 */
declare function getHighlighter(engineType: 'js' | 'oniguruma', options: Omit<BundledHighlighterOptions<BundledLanguage, BundledTheme>, 'engine'>): Promise<Highlighter>;
declare function highlight(code: string, options: HighlightOptions): Promise<ReactNode>;

export { type HighlightOptions, type HighlightOptionsCommon, type HighlightOptionsThemes, getHighlighter, hastToJsx, highlight, highlightHast };
