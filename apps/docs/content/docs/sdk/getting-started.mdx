---
title: Getting Started
description: Get started with the Birch SDK in minutes
---

This guide will help you set up the Birch SDK and perform your first automatic key rotation.

## Prerequisites

- Node.js 18+ installed
- Birch CLI installed and configured ([Installation Guide](/docs/installation))
- A `.env` file with at least one API key

## Install the SDK

```bash
npm install @inaplight/birch-client
```

Or with Bun:

```bash
bun add @inaplight/birch-client
```

## Set Up Birch Daemon

Start the Birch daemon (required for automatic rotation):

```bash
birch daemon start
```

The daemon listens on `http://localhost:9123` by default.

## Create a Key Pool (Optional but Recommended)

For automatic rotation on rate limits, set up a key pool:

```bash
birch pool init TIKTOK_API_KEY --keys "key1,key2,key3"
```

You can also create pools from a file:

```bash
# Create keys.txt with one key per line
birch pool init TIKTOK_API_KEY --from-file ./keys.txt
```

## Add the SDK Import

Add a single import to your application entry point:

### Next.js App Router

```typescript
// app/layout.tsx
import '@inaplight/birch-client/auto';

export default function RootLayout({ children }) {
  return <html><body>{children}</body></html>;
}
```

### Express

```typescript
// server.ts or index.ts
import '@inaplight/birch-client/auto';
import express from 'express';

const app = express();
// ... rest of your app
```

### Standalone Script

```typescript
// script.ts
import '@inaplight/birch-client/auto';

async function main() {
  // Your code here
}

main();
```

## Use Your APIs Normally

No changes needed to your existing API calls:

```typescript
const response = await fetch('https://api.tiktok.com/v1/videos', {
  headers: {
    Authorization: `Bearer ${process.env.TIKTOK_API_KEY}`
  }
});

const data = await response.json();
```

## What Happens Next?

When your application hits a rate limit (HTTP 429):

1. The SDK automatically detects the 429 response
2. Identifies which API key was used (`TIKTOK_API_KEY`)
3. Calls the Birch daemon to rotate to the next key
4. Retries the request immediately with the new key
5. Your application continues without interruption

## Verify It's Working

Enable debug mode to see what's happening:

```bash
BIRCH_DEBUG=true npm run dev
```

You'll see logs like:

```
[Birch] Auto-rotation initialized { environment: 'dev', service: undefined }
[Birch] Fetch interceptor installed
[Birch] Detected env var: TIKTOK_API_KEY for token ***2345
[Birch] Rate limit hit (429) for TIKTOK_API_KEY, triggering rotation...
[Birch] Rotation successful, retrying with new key ***6789
```

## Next Steps

- [Configure the SDK](/docs/sdk/configuration) for production
- [Explore examples](/docs/sdk/examples) for different use cases
- [Read framework guides](/docs/sdk/frameworks) for specific frameworks
- [Set up key pools](/docs/usage/key-pools) for automatic rotation

